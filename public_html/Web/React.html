<!doctype html>
<html lang="zh-cn">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

		<!-- Template -->
		<link rel="Stylesheet" type="text/css" href="../css/main.css" />
		<title>React</title>
	</head>

	<body>
		<div class="container">

			<nav class="navbar navbar-expand-lg sticky-top navbar-light bg-light">
				<a class="navbar-brand" href="../index.html">Chimez</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarTogglerDemo02">
					<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
						<li class="nav-item active">
							<a class="nav-link" href="../articles_index.html">文章列表 <span class="sr-only">(current)</span></a>
					</ul>
					<form class="form-inline my-2 my-lg-0">
						<input class="form-control mr-sm-2" type="search" placeholder="Search">
						<button class="btn btn-outline-success my-2 my-sm-0" type="button">Search</button>
					</form>
				</div>
			</nav>

			<div class="row">
				
<p>
<div class="col-md-3 article-toc d-none d-md-block">
</p>
<div id="Contents" class="toc"><h1 id="Contents">Contents</h1></div>
<ul>
<li>
<a href="React.html#基本使用">基本使用</a>

<ul>
<li>
<a href="React.html#基本使用-创建新应用的方法">创建新应用的方法</a>

<li>
<a href="React.html#基本使用-工作流程">工作流程</a>

<ul>
<li>
<a href="React.html#基本使用-工作流程-组件类">组件类</a>

<li>
<a href="React.html#基本使用-工作流程-函数">函数</a>

<li>
<a href="React.html#基本使用-工作流程-数据流">数据流</a>

<li>
<a href="React.html#基本使用-工作流程-使用组件">使用组件</a>

<li>
<a href="React.html#基本使用-工作流程-渲染整个页面">渲染整个页面</a>

</ul>
</ul>
<li>
<a href="React.html#API">API</a>

<li>
<a href="React.html#示例代码">示例代码</a>

</ul>

<p>
</div>
<div class="col-md-9 article-main">
</p>
<div id="基本使用"><h1 id="基本使用">基本使用</h1></div>
<div id="基本使用-创建新应用的方法"><h2 id="创建新应用的方法">创建新应用的方法</h2></div>
<pre bash>
npm install -g create-react-app
create-react-app my-app
cd my-app
npm start
</pre>
<div id="基本使用-工作流程"><h2 id="工作流程">工作流程</h2></div>
<p>
React本质上就是一个JS库
</p>

<p>
工作流程：导入依赖库-&gt;声明组件类和函数-&gt;将组件组合到一起-&gt;将组合组件输出到页面
</p>

<p>
通过<code>props</code>传递数据、通过<code>state</code>储存状态
</p>
<div id="基本使用-工作流程-组件类"><h3 id="组件类">组件类</h3></div>
<p>
组件类中可以设置构造函数、渲染函数、加载和卸载钩子函数
</p>

<p>
+ 构造函数中需要继承父类和设置自身状态
+ 渲染函数中使用JSX或其他的语法写出要渲染的内容，包括HTML、一般的JS、CSS和事件处理函数/方法
+ 加载和卸载钩子函数为组件被进入和离开DOM时的行为
</p>

<pre js>
class SampleClass extends React.Component{
  constructor(){      //构造函数
    this.state = {    //本地状态
      value: null;
    }
  }
  render() {          //渲染函数
    return(
      &lt;h1&gt;something{props.value}&lt;/h1&gt;  //传递数据
      &lt;h2&gt;{this.state.value}&lt;/h2&gt;      //自身调用
    )
  }
  componentDidMount(){}    //生命周期钩子，当输出到DOM后执行这个
  componentWillUnmount(){} //卸载生命周期钩子，当从DOM清除时执行
}
</pre>
<div id="基本使用-工作流程-函数"><h3 id="函数">函数</h3></div>
<p>
函数就是只有渲染的组件类
</p>
<pre js>
function Square(props) {
  return (
    &lt;h1&gt;{props.value}&lt;/ h1&gt;
  )
}
</pre>
<div id="基本使用-工作流程-数据流"><h3 id="数据流">数据流</h3></div>
<p>
程序的数据流为自顶向下，不可变，通过‘状态提升’的技巧将需要交互的数据写在共同父类的状态里
</p>

<p>
数据是不可变的，改变数据推荐深度拷贝
</p>
<div id="基本使用-工作流程-使用组件"><h3 id="使用组件">使用组件</h3></div>
<p>
在JSX里像HTML标签一样使用定义好的组件
</p>
<pre html>
&lt;SampleClass /&gt;          //这样可以调用声明好的组件，返回rander方法的值
&lt;SampleClass name=2 /&gt; //向组件传递数据的方法，props.name=2
</pre>
<div id="基本使用-工作流程-渲染整个页面"><h3 id="渲染整个页面">渲染整个页面</h3></div>
<p>
是改变页面的唯一方法，连续的改变页面就是动画
</p>
<pre js>
ReactDOM.render(
  &lt;SampleClass name="index" /&gt;,
  document.getElementById("root"));
</pre>
<div id="API"><h1 id="API">API</h1></div>

<div id="示例代码"><h1 id="示例代码">示例代码</h1></div>
<pre js>
import React from 'react';  //React的依赖
import ReactDOM from 'react-dom';
import './index.css'; //本地文件引入

class ShoppingList extends React.Component {  //声明一个React组件类：ShoppingList，组件名称必须大写开头
  constructor() { //构造函数
    super();  //继承父类
    this.state = {  //组件自身的状态数据，只能在构造函数里初始化
      value: null;
    };
    this.user={
      id:"1",
      name:"name",
      :taskCount:"2",
    };
  }
  const element = ( //在括号里可以直接声明JSX表达式
    &lt;h1&gt;  //和HTML差不多
      Hello, {formatName(user)}!  //在大括号里可以直接调用任何js表达式
    &lt;/h1&gt;
  );

  const listItems = numbers.map((number) =&gt; //只有在map的遍历列表中key需要明确被表示出来
    &lt;ListItem key={number.toString()}
              value={number} /&gt;
  );
  render() {  //render方法，返回一个嵌套结构视图，对渲染内容的描述
    return (  //一般使用JSX语法扩展写描述
      &lt;div className="shopping-list"&gt;
        &lt;button  onClick={() =&gt; this.setState({value: 'X'}) }&gt;  //传入一个函数作为事件处理的方法，setState方法可以设置自身的状态，也是唯一的改变状态的方法
          {this.state.value}  //大括号表示引用数据
        &lt;/button&gt;
        &lt;h1&gt;Shopping List for {this.props.name}&lt;/h1&gt;  //props用于接受传递数据
        &lt;ul&gt;
          &lt;li&gt;WhatsApp&lt;/li&gt;
          &lt;li&gt;Oculus&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    );
  }
  componentDidMount() { //生命周期钩子，当输出到DOM后执行这个
  }

  componentWillUnmount() { //卸载生命周期钩子，当从DOM清除时执行这个
  }
}
function Square(props) {  //只有rander方法的单纯组件可以改写成函数
  if (props){ //函数中使用if来进行条件渲染
    return null;  //返回null阻止渲染
  }else{
    return (
      &lt;button className="square" onClick={props.onClick}&gt; //注意这里onClick的方法改写
        {props.value}
      &lt;/button&gt;
    );
  }
}

&lt;ShoppingList /&gt;  //这样可以调用声明好的组件，返回rander方法的值
&lt;ShoppingList name={i} /&gt; //向组件传递数据的方法
// 状态提升：多个组件的数据都需要用到或者要进行交互时，将他们的数据保存在共同父组件中，单向数据流，只能从顶层向下层传递数据，不能反过来
// 数据是不可变的，改变数据推荐深度拷贝
// 使用组合方式构建组件而不是继承
ReactDOM.render(  //渲染整个页面，将页面传到这个方法里是改变页面的唯一方法
  &lt;ShoppingList name={i} /&gt;,
  document.getElementById("root"));

  // setInterval(tick, 1000); 这个可以每一秒调用一次一个函数
</pre>

		</div>
		<nav class="navbar">
			<span class="navbar-text">
				Page created on 2018-01-31
			</span>
		</nav>

	</div>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<!-- highlight.js -->
	<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
	<link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet">
	<script>
		$(document).ready(function() {
			$('pre').each(function(i, block) {
				hljs.highlightBlock(block);
			});
			$('.article-toc ul li ul li ul li ul').hide();
		});
	</script>
	<!-- MathJax -->
	<script type="text/javascript" async
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
	</script>
	<script type="text/javascript" src="../js/search.js"></script>
</body>
</html>
