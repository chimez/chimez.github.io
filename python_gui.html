<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-27 Sun 17:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>python GUI</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="chimez" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">python GUI</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org71118f8">1. tkinter</a></li>
<li><a href="#org8a142da">2. Tkinter</a>
<ul>
<li><a href="#org23f7963">2.1. 基本概念</a>
<ul>
<li><a href="#org3279b05">2.1.1. 安装与使用</a></li>
<li><a href="#org3d8354b">2.1.2. 运行逻辑</a></li>
<li><a href="#orgb61034c">2.1.3. Application类</a></li>
</ul>
</li>
<li><a href="#orgc6290f5">2.2. 布局</a>
<ul>
<li><a href="#org0b16fb8">2.2.1. pack</a></li>
<li><a href="#org6ed8f44">2.2.2. grid</a></li>
<li><a href="#orgf99526a">2.2.3. place</a></li>
</ul>
</li>
<li><a href="#org4c91702">2.3. 组织复杂界面</a>
<ul>
<li><a href="#org0a3b049">2.3.1. 分割线Separator</a></li>
<li><a href="#org4519ba1">2.3.2. 带标签的框Label Frames</a></li>
<li><a href="#org607b491">2.3.3. 可拖动改变的标签窗口Paned Windows</a></li>
<li><a href="#orgf6f205b">2.3.4. 选择显示的标签页Notebook</a></li>
</ul>
</li>
<li><a href="#org7e55849">2.4. 控件</a>
<ul>
<li><a href="#orgb6e328f">2.4.1. 事件绑定</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgacd2462">3. PySide2</a>
<ul>
<li><a href="#orge9612fa">3.1. 安装与基本使用</a>
<ul>
<li><a href="#org862f623">3.1.1. 安装</a></li>
<li><a href="#org41e41fa">3.1.2. 基本框架</a></li>
</ul>
</li>
<li><a href="#orgacc3465">3.2. QML</a>
<ul>
<li><a href="#orgb2d71e8">3.2.1. 基本使用</a></li>
<li><a href="#orgfb41bac">3.2.2. 基本概念和组件</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6942d09">4. python gtk</a>
<ul>
<li><a href="#orge2cf16c">4.1. 基础</a>
<ul>
<li><a href="#orga583201">4.1.1. 导入的库</a></li>
<li><a href="#org218925a">4.1.2. 基本工作流程</a></li>
<li><a href="#org47f5d76">4.1.3. 可用的组件</a></li>
<li><a href="#org5b5de8b">4.1.4. 可用的布局</a></li>
<li><a href="#orgd8b1d61">4.1.5. glade 和 <code>Gtk.Builder</code></a></li>
<li><a href="#orgb273c07">4.1.6. <code>GObject</code></a></li>
<li><a href="#org8dc799a">4.1.7. <code>Gtk.Application</code></a></li>
</ul>
</li>
<li><a href="#orgc1c3aba">4.2. 各类组件的使用</a></li>
<li><a href="#org5df4b89">4.3. 实现各种功能的方法</a>
<ul>
<li><a href="#orgdf7bd00">4.3.1. 剪贴板</a></li>
<li><a href="#org4332abb">4.3.2. 拖拽</a></li>
<li><a href="#orgc36c730">4.3.3. 在组件上使用外部 css 样式</a></li>
<li><a href="#org4263f48">4.3.4. 如何给本来不能有事件的组件连接上事件：让图片可点击</a></li>
</ul>
</li>
<li><a href="#orgbe0c779">4.4. 坑</a>
<ul>
<li><a href="#org724b531">4.4.1. glade 中的模板目前不可用</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>





<div id="outline-container-org71118f8" class="outline-2">
<h2 id="org71118f8"><span class="section-number-2">1</span> tkinter</h2>
<div class="outline-text-2" id="text-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>Tk()</code></td>
<td class="org-left">主窗口</td>
</tr>

<tr>
<td class="org-left"><code>Tk.destroy()</code></td>
<td class="org-left">破坏窗口</td>
</tr>

<tr>
<td class="org-left"><code>Tk.mainloop()</code></td>
<td class="org-left">消息循环</td>
</tr>

<tr>
<td class="org-left"><code>className="string"</code></td>
<td class="org-left">标题</td>
</tr>

<tr>
<td class="org-left"><code>Tk.winfo_screenwidth()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>Tk.winfo_screenwidth()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>Tk.winfo_screenheight()</code></td>
<td class="org-left">获取窗口坐标</td>
</tr>

<tr>
<td class="org-left"><code>Tk.winfo_screenheight()</code></td>
<td class="org-left">获取窗口坐标</td>
</tr>

<tr>
<td class="org-left"><code>Tk.geometry('300x300+300+300') width x hight + x + y</code></td>
<td class="org-left">设置窗口位置和大小</td>
</tr>

<tr>
<td class="org-left"><code>Tk.geometry('300x300+300+300') width x hight + x + y</code></td>
<td class="org-left">设置窗口位置和大小</td>
</tr>

<tr>
<td class="org-left"><code>Frame()</code></td>
<td class="org-left">框架</td>
</tr>

<tr>
<td class="org-left"><code>Button(Tk,text='',command=…)</code></td>
<td class="org-left">按钮</td>
</tr>

<tr>
<td class="org-left"><code>StringVar()</code></td>
<td class="org-left">字符串</td>
</tr>

<tr>
<td class="org-left"><code>.get()</code></td>
<td class="org-left">字符串获取</td>
</tr>

<tr>
<td class="org-left"><code>.set('…')</code></td>
<td class="org-left">字符串设置</td>
</tr>

<tr>
<td class="org-left"><code>Entry(Tk,textvariable=StringVar)</code></td>
<td class="org-left">输入框</td>
</tr>

<tr>
<td class="org-left"><code>*.pack()</code></td>
<td class="org-left">放置</td>
</tr>

<tr>
<td class="org-left"><code>laber(Tk,text="")</code></td>
<td class="org-left">标签</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org8a142da" class="outline-2">
<h2 id="org8a142da"><span class="section-number-2">2</span> Tkinter</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org23f7963" class="outline-3">
<h3 id="org23f7963"><span class="section-number-3">2.1</span> 基本概念</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org3279b05" class="outline-4">
<h4 id="org3279b05"><span class="section-number-4">2.1.1</span> 安装与使用</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #859900; font-weight: bold;">import</span> tkinter <span style="color: #859900; font-weight: bold;">as</span> tk
</pre>
</div>
</div>
</div>

<div id="outline-container-org3d8354b" class="outline-4">
<h4 id="org3d8354b"><span class="section-number-4">2.1.2</span> 运行逻辑</h4>
<div class="outline-text-4" id="text-2-1-2">
<ol class="org-ol">
<li>定义 <code>tk.Tk()</code> 的实例 <code>ROOT</code> <code>ROOT=tk.Tk()</code></li>
<li>生成软件  <code>APP=Application(master=ROOT)</code></li>
<li>运行主循环 <code>APP.mainloop()</code></li>
</ol>
</div>
</div>

<div id="outline-container-orgb61034c" class="outline-4">
<h4 id="orgb61034c"><span class="section-number-4">2.1.3</span> Application类</h4>
<div class="outline-text-4" id="text-2-1-3">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> Class Application<span style="color: #2aa198;">(</span>tk.Frame<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, master=<span style="color: #268bd2; font-weight: bold;">None</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #657b83; font-weight: bold;">super</span><span style="color: #2aa198;">()</span>.__init__<span style="color: #2aa198;">(</span>master<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.create_widgets<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">create_widgets</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> ...
<span style="background-color: #eee8d5;"> </span>   
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc6290f5" class="outline-3">
<h3 id="orgc6290f5"><span class="section-number-3">2.2</span> 布局</h3>
<div class="outline-text-3" id="text-2-2">
<p>
意在一个软件内只能使用同一种布局，且每个继承都要写明布局
</p>
</div>
<div id="outline-container-org0b16fb8" class="outline-4">
<h4 id="org0b16fb8"><span class="section-number-4">2.2.1</span> pack</h4>
<div class="outline-text-4" id="text-2-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">功能</td>
<td class="org-left">属性</td>
<td class="org-left">说明</td>
</tr>

<tr>
<td class="org-left">默认状态</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">从上到下顺次排放, 并水平居中</td>
</tr>

<tr>
<td class="org-left">和其父窗口一样宽</td>
<td class="org-left"><code>w.pack(fill=X)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">设置水平方向的外边距</td>
<td class="org-left"><code>padx=10</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">设置竖直方向的外边距</td>
<td class="org-left"><code>pady=10</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">设置水平方向的内边距</td>
<td class="org-left"><code>ipadx=10</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">设置竖直方向的内边距</td>
<td class="org-left"><code>ipady=10</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">顺次放置控件</td>
<td class="org-left"><code>side=LEFT</code></td>
<td class="org-left">LEFT RIGHT</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org6ed8f44" class="outline-4">
<h4 id="org6ed8f44"><span class="section-number-4">2.2.2</span> grid</h4>
<div class="outline-text-4" id="text-2-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">功能</td>
<td class="org-left">属性</td>
<td class="org-left">说明</td>
</tr>

<tr>
<td class="org-left">行号</td>
<td class="org-left"><code>row=0</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">列号</td>
<td class="org-left"><code>column=2</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">跨列</td>
<td class="org-left"><code>columnspan=2</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">跨行</td>
<td class="org-left"><code>rowspan=2</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>sticky=W+E+N+S</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">外边框x</td>
<td class="org-left"><code>padx=5</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">外边框y</td>
<td class="org-left"><code>pady=5</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf99526a" class="outline-4">
<h4 id="orgf99526a"><span class="section-number-4">2.2.3</span> place</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
<code>place(x =20, y = 30 + i*30, width=120, height=25)</code> 
</p>
</div>
</div>
</div>

<div id="outline-container-org4c91702" class="outline-3">
<h3 id="org4c91702"><span class="section-number-3">2.3</span> 组织复杂界面</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org0a3b049" class="outline-4">
<h4 id="org0a3b049"><span class="section-number-4">2.3.1</span> 分割线Separator</h4>
<div class="outline-text-4" id="text-2-3-1">
<ol class="org-ol">
<li>vertical 垂直线</li>
<li>horizontal 水平线
<code>s = ttk.Separator(parent, orient=HORIZONTAL)</code></li>
</ol>
</div>
</div>

<div id="outline-container-org4519ba1" class="outline-4">
<h4 id="org4519ba1"><span class="section-number-4">2.3.2</span> 带标签的框Label Frames</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
<code>lf = ttk.Labelframe(parent, text='Label')</code> 
</p>
</div>
</div>

<div id="outline-container-org607b491" class="outline-4">
<h4 id="org607b491"><span class="section-number-4">2.3.3</span> 可拖动改变的标签窗口Paned Windows</h4>
<div class="outline-text-4" id="text-2-3-3">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">p</span> = ttk.Panedwindow<span style="color: #2aa198;">(</span>parent, orient=VERTICAL<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>+  first pane, which would get widgets gridded into it:=
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">f1</span> = ttk.Labelframe<span style="color: #2aa198;">(</span>p, text=<span style="color: #2aa198;">'Pane1'</span>, width=100, height=100<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">f2</span> = ttk.Labelframe<span style="color: #2aa198;">(</span>p, text=<span style="color: #2aa198;">'Pane2'</span>, width=100, height=100<span style="color: #2aa198;">)</span>   = second <span style="color: #268bd2;">pane</span>=
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>p.add<span style="color: #2aa198;">(</span>f1<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>p.add<span style="color: #2aa198;">(</span>f2<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6f205b" class="outline-4">
<h4 id="orgf6f205b"><span class="section-number-4">2.3.4</span> 选择显示的标签页Notebook</h4>
<div class="outline-text-4" id="text-2-3-4">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">n</span> = ttk.Notebook<span style="color: #2aa198;">(</span>parent<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">f1</span> = ttk.Frame<span style="color: #2aa198;">(</span>n<span style="color: #2aa198;">)</span>   <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">first page, which would get widgets gridded into it</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #268bd2;">f2</span> = ttk.Frame<span style="color: #2aa198;">(</span>n<span style="color: #2aa198;">)</span>   <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">second page</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>n.add<span style="color: #2aa198;">(</span>f1, text=<span style="color: #2aa198;">'One'</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>n.add<span style="color: #2aa198;">(</span>f2, text=<span style="color: #2aa198;">'Two'</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7e55849" class="outline-3">
<h3 id="org7e55849"><span class="section-number-3">2.4</span> 控件</h3>
<div class="outline-text-3" id="text-2-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">功能</th>
<th scope="col" class="org-left">语句</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>标签Label</b></td>
<td class="org-left"><code>w = Label(root, text="Hello Tkinter!")</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>消息Message</b></td>
<td class="org-left"><code>message()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>按钮Button</b></td>
<td class="org-left"><code>Button(root,text="text",command=self.func)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>多行文本框Text</b></td>
<td class="org-left"><code>text = Text(parent, width=40, height=10)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>thetext = text.get('1.0', 'end')</code></td>
<td class="org-left">获得内容，从1行0字到最后end</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>text.insert('1.0', 'here is my text to insert')</code></td>
<td class="org-left">写入内容，从1行0字开始</td>
</tr>

<tr>
<td class="org-left"><b>输入框entry</b></td>
<td class="org-left"><code>Entry(root, textvariable=var)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>e.get()</code></td>
<td class="org-left">获得文本</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>e.delete(0,END)</code></td>
<td class="org-left">删除文本</td>
</tr>

<tr>
<td class="org-left"><b>消息框功能</b></td>
<td class="org-left"><code>tkMessageBox 包提供</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>askyesno('Verify', 'Really quit?'):</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>showinfo('No', 'Quit has been cancelled')</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">询问用户操作是否继续.</td>
<td class="org-left"><code>askokcancel(title=None, message=None, **options)</code></td>
<td class="org-left">选择 ok 则返回 True</td>
</tr>

<tr>
<td class="org-left">显示一个问题</td>
<td class="org-left"><code>askquestion(title=None, message=None, **options)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">询问用户是否要重试操作.</td>
<td class="org-left"><code>askretrycancel(title=None, message=None, **options)</code></td>
<td class="org-left">选择 ok 则返回 True</td>
</tr>

<tr>
<td class="org-left">显示一个问题.</td>
<td class="org-left"><code>askyesno(title=None, message=None, **options)</code></td>
<td class="org-left">选择 ok 则返回 True</td>
</tr>

<tr>
<td class="org-left">询问用户是否要重试操作.</td>
<td class="org-left"><code>askyesnocancel(title=None, message=None, **options)</code></td>
<td class="org-left">选择 ok 则返回 True; 选择 cancel 则返回 None</td>
</tr>

<tr>
<td class="org-left">给出一条错误信息</td>
<td class="org-left"><code>showerror(title=None, message=None, **options)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">给出一条提示信息</td>
<td class="org-left"><code>showinfo(title=None, message=None, **options)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">给出一条警告信息</td>
<td class="org-left"><code>showwarning(title=None, message=None, **options)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>文件选择对话框</b></td>
<td class="org-left"><code>tkFileDialog.askopenfilename()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>颜色选择对话框</b></td>
<td class="org-left"><code>tkColorChooser.askColor ( color, option=value, ...)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Variable 类双向绑定</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">保存一个 string 类型变量, 默认值为""</td>
<td class="org-left"><code>x = StringVar()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">保存一个整型变量, 默认值为0</td>
<td class="org-left"><code>x = IntVar()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">保存一个浮点型变量, 默认值为0.0</td>
<td class="org-left"><code>x = DoubleVar()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">保存一个布尔型变量, 返回值为 0 (代表 False) 或 1 (代表 True)</td>
<td class="org-left"><code>x = BooleanVar()</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>get()</code></td>
<td class="org-left">得到其保存的变量值</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>set()</code></td>
<td class="org-left">设置其保存的变量值</td>
</tr>

<tr>
<td class="org-left"><b>RadioButtons单选按钮</b></td>
<td class="org-left"><code>Radiobutton(root,text="Python",padx=20,variable=v,value=1).pack(anchor=W)</code></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Checkbox</b></td>
<td class="org-left"><code>Checkbutton(master, text="male", variable=var1)</code> .</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-orgb6e328f" class="outline-4">
<h4 id="orgb6e328f"><span class="section-number-4">2.4.1</span> 事件绑定</h4>
<div class="outline-text-4" id="text-2-4-1">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> widget.bind<span style="color: #2aa198;">(</span>event, handler<span style="color: #2aa198;">)</span> 
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">l</span> =ttk.Label<span style="color: #2aa198;">(</span>root, text=<span style="color: #2aa198;">"Starting..."</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> l.grid<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> l.bind<span style="color: #2aa198;">(</span><span style="color: #2aa198;">'&lt;Enter&gt;'</span>, <span style="color: #859900; font-weight: bold;">lambda</span> e: l.configure<span style="color: #b58900;">(</span>text=<span style="color: #2aa198;">'Moved mouse inside'</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgacd2462" class="outline-2">
<h2 id="orgacd2462"><span class="section-number-2">3</span> PySide2</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orge9612fa" class="outline-3">
<h3 id="orge9612fa"><span class="section-number-3">3.1</span> 安装与基本使用</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org862f623" class="outline-4">
<h4 id="org862f623"><span class="section-number-4">3.1.1</span> 安装</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
<code>pip install PySide2</code>
</p>
</div>
</div>
<div id="outline-container-org41e41fa" class="outline-4">
<h4 id="org41e41fa"><span class="section-number-4">3.1.2</span> 基本框架</h4>
<div class="outline-text-4" id="text-3-1-2">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">import</span> sys
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">import</span> random
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">from</span> PySide2 <span style="color: #859900; font-weight: bold;">import</span> QtCore, QtWidgets, QtGui


<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyWidget</span><span style="color: #2aa198;">(</span>QtWidgets.QWidget<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #657b83; font-weight: bold;">super</span><span style="color: #2aa198;">()</span>.__init__<span style="color: #2aa198;">()</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.hello = <span style="color: #2aa198;">[</span><span style="color: #2aa198;">"Hallo Welt"</span>, <span style="color: #2aa198;">"Hei maailma"</span>, <span style="color: #2aa198;">"Hola Mundo"</span>, <span style="color: #2aa198;">"&#1055;&#1088;&#1080;&#1074;&#1077;&#1090; &#1084;&#1080;&#1088;"</span><span style="color: #2aa198;">]</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.button = QtWidgets.QPushButton<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"Click me!"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.text = QtWidgets.QLabel<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"Hello World"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.text.setAlignment<span style="color: #2aa198;">(</span>QtCore.Qt.AlignCenter<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.layout = QtWidgets.QVBoxLayout<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.layout.addWidget<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.text<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.layout.addWidget<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.button<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.setLayout<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.layout<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.button.clicked.connect<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.magic<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">magic</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">self</span>.text.setText<span style="color: #2aa198;">(</span>random.choice<span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">self</span>.hello<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>


<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">if</span> <span style="color: #657b83; font-weight: bold;">__name__</span> == <span style="color: #2aa198;">"__main__"</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">app</span> = QtWidgets.QApplication<span style="color: #2aa198;">(</span><span style="color: #b58900;">[]</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">widget</span> = MyWidget<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> widget.resize<span style="color: #2aa198;">(</span>800, 600<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> widget.show<span style="color: #2aa198;">()</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> sys.<span style="color: #268bd2; font-weight: bold;">exit</span><span style="color: #2aa198;">(</span>app.exec_<span style="color: #b58900;">()</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgacc3465" class="outline-3">
<h3 id="orgacc3465"><span class="section-number-3">3.2</span> QML</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orgb2d71e8" class="outline-4">
<h4 id="orgb2d71e8"><span class="section-number-4">3.2.1</span> 基本使用</h4>
<div class="outline-text-4" id="text-3-2-1">
</div>
<ol class="org-ol">
<li><a id="org3fbd358"></a>view.qml 文件<br />
<div class="outline-text-5" id="text-3-2-1-1">
<div class="org-src-container">
<pre class="src src-javascript">       <span style="color: #859900; font-weight: bold;">import</span> QtQuick 2.0

       Rectangle <span style="color: #2aa198;">{</span>
           width: 200
           height: 200
           color: <span style="color: #2aa198;">"green"</span>

           Text <span style="color: #b58900;">{</span>
               text: <span style="color: #2aa198;">"Hello World"</span>
               anchors.centerIn: parent
           <span style="color: #b58900;">}</span>
       <span style="color: #2aa198;">}</span>
</pre>
</div>
</div>
</li>
<li><a id="org5557501"></a>main.py 文件<br />
<div class="outline-text-5" id="text-3-2-1-2">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">from</span> PySide2.QtWidgets <span style="color: #859900; font-weight: bold;">import</span> QApplication
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">from</span> PySide2.QtQuick <span style="color: #859900; font-weight: bold;">import</span> QQuickView
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">from</span> PySide2.QtCore <span style="color: #859900; font-weight: bold;">import</span> QUrl

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">app</span> = QApplication<span style="color: #2aa198;">(</span><span style="color: #b58900;">[]</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">view</span> = QQuickView<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">url</span> = QUrl<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"view.qml"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  view.setSource<span style="color: #2aa198;">(</span>url<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  view.show<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  app.exec_<span style="color: #2aa198;">()</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgfb41bac" class="outline-4">
<h4 id="orgfb41bac"><span class="section-number-4">3.2.2</span> 基本概念和组件</h4>
<div class="outline-text-4" id="text-3-2-2">
<ol class="org-ol">
<li><p>
最基本的组件是 <code>Item</code> ，常作为其它组件的容器使用，最基本的熟悉是 <code>id</code>
</p>
<div class="org-src-container">
<pre class="src src-javascript">         Item<span style="color: #2aa198;">{</span>
             id:asd
         <span style="color: #2aa198;">}</span>
</pre>
</div></li>
<li><p>
设置可从外部设置的属性，可以实例化有不同属性的组件 <code>property alias sth:sth1</code>
</p>
<div class="org-src-container">
<pre class="src src-javascript">         property alias cellColor: rectangle.color
</pre>
</div></li>
<li><p>
设置可用的信号，和信号的参数，参数名前面的是它的类型
</p>
<div class="org-src-container">
<pre class="src src-javascript">         signal clicked<span style="color: #2aa198;">(</span>color cellColor<span style="color: #2aa198;">)</span>
</pre>
</div></li>
<li><p>
设置组件的大小与上级组件一样大 <code>anchors.fill: parent</code>
</p>
<div class="org-src-container">
<pre class="src src-javascript">         Rectangle <span style="color: #2aa198;">{</span>
             id: rectangle
             border.color: <span style="color: #2aa198;">"white"</span>
             anchors.fill: parent
         <span style="color: #2aa198;">}</span>
</pre>
</div></li>
<li><p>
产生鼠标事件的组件， <code>MouseArea</code>, 冒号后面的是要发出的信号及参数
</p>
<div class="org-src-container">
<pre class="src src-javascript">         MouseArea <span style="color: #2aa198;">{</span>
             anchors.fill: parent
             onClicked: container.clicked<span style="color: #b58900;">(</span>container.cellColor<span style="color: #b58900;">)</span>
         <span style="color: #2aa198;">}</span>

</pre>
</div></li>
<li><p>
实例化子组件
</p>
<div class="org-src-container">
<pre class="src src-javascript">         Cell <span style="color: #2aa198;">{</span> cellColor: <span style="color: #2aa198;">"red"</span>; onClicked: helloText.color = cellColor <span style="color: #2aa198;">}</span>
</pre>
</div></li>
<li><p>
动画, 使用 <code>states</code> 和 <code>transitions</code>
</p>
<div class="org-src-container">
<pre class="src src-javascript">  Text <span style="color: #2aa198;">{</span>
        id: helloText
        text: <span style="color: #2aa198;">"Hello world!"</span>
        y: 30
        anchors.horizontalCenter: page.horizontalCenter
        font.pointSize: 24; font.bold: <span style="color: #268bd2; font-weight: bold;">true</span>

        MouseArea <span style="color: #b58900;">{</span> id: mouseArea; anchors.fill: parent <span style="color: #b58900;">}</span>

        states: State <span style="color: #b58900;">{</span>
            name: <span style="color: #2aa198;">"down"</span>; when: mouseArea.pressed == <span style="color: #268bd2; font-weight: bold;">true</span>
            PropertyChanges <span style="color: #268bd2;">{</span> target: helloText; y: 160; rotation: 180; color: <span style="color: #2aa198;">"red"</span> <span style="color: #268bd2;">}</span>
        <span style="color: #b58900;">}</span>

        transitions: Transition <span style="color: #b58900;">{</span>
            from: <span style="color: #2aa198;">""</span>; to: <span style="color: #2aa198;">"down"</span>; reversible: <span style="color: #268bd2; font-weight: bold;">true</span>
            ParallelAnimation <span style="color: #268bd2;">{</span>
                NumberAnimation <span style="color: #6c71c4;">{</span> properties: <span style="color: #2aa198;">"y,rotation"</span>; duration: 500; easing.type: Easing.InOutQuad <span style="color: #6c71c4;">}</span>
                ColorAnimation <span style="color: #6c71c4;">{</span> duration: 500 <span style="color: #6c71c4;">}</span>
            <span style="color: #268bd2;">}</span>
        <span style="color: #b58900;">}</span>
    <span style="color: #2aa198;">}</span>
</pre>
</div></li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-org6942d09" class="outline-2">
<h2 id="org6942d09"><span class="section-number-2">4</span> python gtk</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orge2cf16c" class="outline-3">
<h3 id="orge2cf16c"><span class="section-number-3">4.1</span> 基础</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orga583201" class="outline-4">
<h4 id="orga583201"><span class="section-number-4">4.1.1</span> 导入的库</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
gtk3 使用 gi 库，也就是 pygobject
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">import</span> gi
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> gi.require_version<span style="color: #2aa198;">(</span><span style="color: #2aa198;">'Gtk'</span>, <span style="color: #2aa198;">'3.0'</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #859900; font-weight: bold;">from</span> gi.repository <span style="color: #859900; font-weight: bold;">import</span> Gtk
</pre>
</div>
</div>
</div>
<div id="outline-container-org218925a" class="outline-4">
<h4 id="org218925a"><span class="section-number-4">4.1.2</span> 基本工作流程</h4>
<div class="outline-text-4" id="text-4-1-2">
<ol class="org-ol">
<li>导入 <code>Gtk</code> 类</li>
<li>通过继承类创建出窗口的框架</li>
<li>用 <code>connect</code> 方法连接信号和响应</li>
<li><code>Gtk.main()</code> 主循环</li>
</ol>
</div>
</div>

<div id="outline-container-org47f5d76" class="outline-4">
<h4 id="org47f5d76"><span class="section-number-4">4.1.3</span> 可用的组件</h4>
<div class="outline-text-4" id="text-4-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">名称</th>
<th scope="col" class="org-left">类</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">关于</td>
<td class="org-left"><code>Gtk.AboutDialog</code></td>
</tr>

<tr>
<td class="org-left">文字标签</td>
<td class="org-left"><code>Gtk.AccelLabel</code></td>
</tr>

<tr>
<td class="org-left">按钮条</td>
<td class="org-left"><code>Gtk.ActionBar</code></td>
</tr>

<tr>
<td class="org-left">应用选择下拉列表</td>
<td class="org-left"><code>Gtk.AppChooserButton</code></td>
</tr>

<tr>
<td class="org-left">应用选择对话框</td>
<td class="org-left"><code>Gtk.AppChooserDialog</code></td>
</tr>

<tr>
<td class="org-left">辅助对话框</td>
<td class="org-left"><code>Gtk.Assistant</code></td>
</tr>

<tr>
<td class="org-left">按钮</td>
<td class="org-left"><code>Gtk.Button</code></td>
</tr>

<tr>
<td class="org-left">多选框</td>
<td class="org-left"><code>Gtk.CheckButton</code></td>
</tr>

<tr>
<td class="org-left">有颜色的按钮</td>
<td class="org-left"><code>Gtk.ColorButton</code></td>
</tr>

<tr>
<td class="org-left">颜色选择对话框</td>
<td class="org-left"><code>Gtk.ColorChooserDialog</code></td>
</tr>

<tr>
<td class="org-left">下拉列表</td>
<td class="org-left"><code>Gtk.ComboBox</code></td>
</tr>

<tr>
<td class="org-left">下拉列表文字</td>
<td class="org-left"><code>Gtk.ComboBoxText</code></td>
</tr>

<tr>
<td class="org-left">输入框</td>
<td class="org-left"><code>Gtk.Entry</code></td>
</tr>

<tr>
<td class="org-left">文件选择按钮</td>
<td class="org-left"><code>Gtk.FileChooserButton</code></td>
</tr>

<tr>
<td class="org-left">文件选择对话框</td>
<td class="org-left"><code>Gtk.FileChooserDialog</code></td>
</tr>

<tr>
<td class="org-left">盒子</td>
<td class="org-left"><code>Gtk.FlowBox</code></td>
</tr>

<tr>
<td class="org-left">字体选择按钮</td>
<td class="org-left"><code>Gtk.FontButton</code></td>
</tr>

<tr>
<td class="org-left">字体选择对话框</td>
<td class="org-left"><code>Gtk.FontChooserDialog</code></td>
</tr>

<tr>
<td class="org-left">框</td>
<td class="org-left"><code>Gtk.Frame</code></td>
</tr>

<tr>
<td class="org-left">OpenGL 区域</td>
<td class="org-left"><code>Gtk.GLArea</code></td>
</tr>

<tr>
<td class="org-left">布局</td>
<td class="org-left"><code>Gtk.Grid</code></td>
</tr>

<tr>
<td class="org-left">头部工具条</td>
<td class="org-left"><code>Gtk.HeaderBar</code></td>
</tr>

<tr>
<td class="org-left">图标显示</td>
<td class="org-left"><code>Gtk.IconView</code></td>
</tr>

<tr>
<td class="org-left">图片显示</td>
<td class="org-left"><code>Gtk.Image</code></td>
</tr>

<tr>
<td class="org-left">消息条</td>
<td class="org-left"><code>Gtk.InfoBar</code></td>
</tr>

<tr>
<td class="org-left">标签</td>
<td class="org-left"><code>Gtk.Label</code></td>
</tr>

<tr>
<td class="org-left">进度条（不动）</td>
<td class="org-left"><code>Gtk.LevelBar</code></td>
</tr>

<tr>
<td class="org-left">超链接</td>
<td class="org-left"><code>Gtk.LinkButton</code></td>
</tr>

<tr>
<td class="org-left">列表盒子</td>
<td class="org-left"><code>Gtk.ListBox</code></td>
</tr>

<tr>
<td class="org-left">锁定按钮</td>
<td class="org-left"><code>Gtk.LockButton</code></td>
</tr>

<tr>
<td class="org-left">菜单条</td>
<td class="org-left"><code>Gtk.MenuBar</code></td>
</tr>

<tr>
<td class="org-left">菜单按钮</td>
<td class="org-left"><code>Gtk.MenuButton</code></td>
</tr>

<tr>
<td class="org-left">消息对话框</td>
<td class="org-left"><code>Gtk.MessageDialog</code></td>
</tr>

<tr>
<td class="org-left">展示页</td>
<td class="org-left"><code>Gtk.Notebook</code></td>
</tr>

<tr>
<td class="org-left">框</td>
<td class="org-left"><code>Gtk.Paned</code></td>
</tr>

<tr>
<td class="org-left">侧边栏</td>
<td class="org-left"><code>Gtk.PlacesSidebar</code></td>
</tr>

<tr>
<td class="org-left">进度条（滚动）</td>
<td class="org-left"><code>Gtk.ProgressBar</code></td>
</tr>

<tr>
<td class="org-left">单选</td>
<td class="org-left"><code>Gtk.RadioButton</code></td>
</tr>

<tr>
<td class="org-left">最近选择对话框</td>
<td class="org-left"><code>Gtk.RecentChooserDialog</code></td>
</tr>

<tr>
<td class="org-left">可拉动的条</td>
<td class="org-left"><code>Gtk.Scale</code></td>
</tr>

<tr>
<td class="org-left">滚动条</td>
<td class="org-left"><code>Gtk.Scrollbar</code></td>
</tr>

<tr>
<td class="org-left">滚动窗口</td>
<td class="org-left"><code>Gtk.ScrolledWindow</code></td>
</tr>

<tr>
<td class="org-left">搜索栏</td>
<td class="org-left"><code>Gtk.SearchBar</code></td>
</tr>

<tr>
<td class="org-left">搜索输入框</td>
<td class="org-left"><code>Gtk.SearchEntry</code></td>
</tr>

<tr>
<td class="org-left">分割线</td>
<td class="org-left"><code>Gtk.Separator</code></td>
</tr>

<tr>
<td class="org-left">数字加减按钮</td>
<td class="org-left"><code>Gtk.SpinButton</code></td>
</tr>

<tr>
<td class="org-left">旋转等待标</td>
<td class="org-left"><code>Gtk.Spinner</code></td>
</tr>

<tr>
<td class="org-left">堆叠</td>
<td class="org-left"><code>Gtk.Stack</code></td>
</tr>

<tr>
<td class="org-left">堆叠切换</td>
<td class="org-left"><code>Gtk.StackSwitcher</code></td>
</tr>

<tr>
<td class="org-left">状态栏</td>
<td class="org-left"><code>Gtk.Statusbar</code></td>
</tr>

<tr>
<td class="org-left">开关按钮</td>
<td class="org-left"><code>Gtk.Switch</code></td>
</tr>

<tr>
<td class="org-left">文本展示</td>
<td class="org-left"><code>Gtk.TextView</code></td>
</tr>

<tr>
<td class="org-left">切换按钮</td>
<td class="org-left"><code>Gtk.ToggleButton</code></td>
</tr>

<tr>
<td class="org-left">工具栏</td>
<td class="org-left"><code>Gtk.ToolPalette</code></td>
</tr>

<tr>
<td class="org-left">工具条</td>
<td class="org-left"><code>Gtk.Toolbar</code></td>
</tr>

<tr>
<td class="org-left">树形视图</td>
<td class="org-left"><code>Gtk.TreeView</code></td>
</tr>

<tr>
<td class="org-left">音量条</td>
<td class="org-left"><code>Gtk.VolumeButton</code></td>
</tr>

<tr>
<td class="org-left">窗口</td>
<td class="org-left"><code>Gtk.Window</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org5b5de8b" class="outline-4">
<h4 id="org5b5de8b"><span class="section-number-4">4.1.4</span> 可用的布局</h4>
<div class="outline-text-4" id="text-4-1-4">
</div>
<ol class="org-ol">
<li><a id="orgf7fb28b"></a>盒子 (<code>Gtk.Box</code>)<br />
<div class="outline-text-5" id="text-4-1-4-1">
<ol class="org-ol">
<li>盒子是不可见的容器，可以横着或者竖着，从左或者从右放组件</li>
<li>创建盒子
<ol class="org-ol">
<li>先实例一个 <code>Gtk.Box(spacing=6)</code></li>
<li>加入到上层组件中 <code>self.add(box)</code></li>
</ol></li>
<li>向盒子里放组件
<ol class="org-ol">
<li>从左到右 <code>box.pack_start(button1, True, True, 0)</code></li>
<li>从右到左 <code>box.pack_end(button1, True, True, 0)</code></li>
</ol></li>
</ol>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyWindow</span><span style="color: #2aa198;">(</span>Gtk.Window<span style="color: #2aa198;">)</span>:

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  Gtk.Window.__init__<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, title=<span style="color: #2aa198;">"Hello World"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.box = Gtk.Box<span style="color: #2aa198;">(</span>spacing=6<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.add<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.box<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.button1 = Gtk.Button<span style="color: #2aa198;">(</span>label=<span style="color: #2aa198;">"Hello"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.button1.connect<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"clicked"</span>, <span style="color: #859900; font-weight: bold;">self</span>.on_button1_clicked<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.box.pack_start<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>.button1, <span style="color: #268bd2; font-weight: bold;">True</span>, <span style="color: #268bd2; font-weight: bold;">True</span>, 0<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org63e9910"></a>网格 (<code>Gtk.Grid</code>)<br />
<div class="outline-text-5" id="text-4-1-4-2">
<p>
网格能够按照行列位置摆放组件
</p>
<ol class="org-ol">
<li><code>Gtk.Grid.attach(组件，左，上，宽，高)</code> 可以指定位置摆放组件</li>
<li><code>Gtk.Grid.attach_next_to(组件，兄弟组件，相对方向(Gtk.PositionType)，宽，高)</code> 可以挨着另一个组件摆放组件</li>
</ol>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  grid.add<span style="color: #2aa198;">(</span>button1<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  grid.attach<span style="color: #2aa198;">(</span>button2, 1, 0, 2, 1<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  grid.attach_next_to<span style="color: #2aa198;">(</span>button3, button1, Gtk.PositionType.BOTTOM, 1, 2<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org22e0ae1"></a>列表盒子(<code>Gtk.ListBox</code>)<br />
<div class="outline-text-5" id="text-4-1-4-3">
<p>
列表盒子类似 HTML 的 <code>col</code>, 它也有子组件 <code>Gtk.ListBoxRow</code> 类似 <code>row</code>
</p>
<ol class="org-ol">
<li>通常用于代替 <code>Gtk.TreeView</code> 实现比较复杂的交互和显示</li>
</ol>

<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">listbox</span> = Gtk.ListBox<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  listbox.set_selection_mode<span style="color: #2aa198;">(</span>Gtk.SelectionMode.NONE<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">row</span> = Gtk.ListBoxRow<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  listbox.add<span style="color: #2aa198;">(</span>row<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3929a7c"></a>栈(<code>Gtk.Stack</code>)<br />
<div class="outline-text-5" id="text-4-1-4-4">
<p>
栈只显示它的一个子组件，并且不给用户提供切换的按钮，可以用 <code>Gtk.StackSwitcher</code> 组件来提供这个按钮
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">stack</span> = Gtk.Stack<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  stack.set_transition_type<span style="color: #2aa198;">(</span>Gtk.StackTransitionType.SLIDE_LEFT_RIGHT<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  stack.set_transition_duration<span style="color: #2aa198;">(</span>1000<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">checkbutton</span> = Gtk.CheckButton<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"Click me!"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  stack.add_titled<span style="color: #2aa198;">(</span>checkbutton, <span style="color: #2aa198;">"check"</span>, <span style="color: #2aa198;">"Check Button"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">label</span> = Gtk.Label<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  label.set_markup<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"&lt;big&gt;A fancy label&lt;/big&gt;"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  stack.add_titled<span style="color: #2aa198;">(</span>label, <span style="color: #2aa198;">"label"</span>, <span style="color: #2aa198;">"A label"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">stack_switcher</span> = Gtk.StackSwitcher<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  stack_switcher.set_stack<span style="color: #2aa198;">(</span>stack<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb33c722"></a>标题栏(<code>Gtk.HeaderBar</code>)<br />
<div class="outline-text-5" id="text-4-1-4-5">
<p>
就是最小化和关闭的那个条，可以在最前面和最后面加一些东西，类似一个横着的盒子
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">hb</span> = Gtk.HeaderBar<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  hb.set_show_close_button<span style="color: #2aa198;">(</span><span style="color: #268bd2; font-weight: bold;">True</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">hb.props.title</span> = <span style="color: #2aa198;">"HeaderBar example"</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.set_titlebar<span style="color: #2aa198;">(</span>hb<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">button</span> = Gtk.Button<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">icon</span> = Gio.ThemedIcon<span style="color: #2aa198;">(</span>name=<span style="color: #2aa198;">"mail-send-receive-symbolic"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">image</span> = Gtk.Image.new_from_gicon<span style="color: #2aa198;">(</span>icon, Gtk.IconSize.BUTTON<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  button.add<span style="color: #2aa198;">(</span>image<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  hb.pack_end<span style="color: #2aa198;">(</span>button<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgc576cb0"></a>流式盒子(<code>Gtk.FlowBox</code>)<br />
<div class="outline-text-5" id="text-4-1-4-6">
<p>
类似瀑布流布局
</p>
</div>
</li>

<li><a id="org46965d8"></a>笔记(<code>Gtk.Notebook</code>)<br />
<div class="outline-text-5" id="text-4-1-4-7">
<p>
按钮切换不同的显示内容
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgd8b1d61" class="outline-4">
<h4 id="orgd8b1d61"><span class="section-number-4">4.1.5</span> glade 和 <code>Gtk.Builder</code></h4>
<div class="outline-text-4" id="text-4-1-5">
</div>
<ol class="org-ol">
<li><a id="org8108002"></a>使用 Glade 创建 glade 布局文件<br />
<div class="outline-text-5" id="text-4-1-5-1">
<p>
glade 就是个 xml 文件， 里面描述了组件的属性和继承关系，因此只需要实现功能函数就行了
</p>
</div>
</li>

<li><a id="orgcddfd81"></a><code>Gtk.Builder</code> 载入组件<br />
<div class="outline-text-5" id="text-4-1-5-2">
<ol class="org-ol">
<li><p>
从文件载入所有组件
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">builder</span> = Gtk.Builder<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> builder.add_from_file<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"example.glade"</span><span style="color: #2aa198;">)</span>
</pre>
</div></li>
<li><p>
从文件中载入指定的几个组件
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> builder.add_objects_from_file<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"example.glade"</span>, <span style="color: #b58900;">(</span><span style="color: #2aa198;">"button1"</span>, <span style="color: #2aa198;">"button2"</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div></li>
<li><p>
从载入好的 <code>builder</code> 中实例化组件
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">window</span> = builder.get_object<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"window1"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> window.show_all<span style="color: #2aa198;">()</span>
</pre>
</div></li>
</ol>
</div>
</li>
<li><a id="orged9b457"></a>从 <code>glade</code> 中指定信号<br />
<div class="outline-text-5" id="text-4-1-5-3">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">&#20449;&#21495;&#21709;&#24212;&#20989;&#25968;</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">hello</span><span style="color: #2aa198;">(</span>button<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">print</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">"Hello World!"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">&#26041;&#27861;1</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">handlers</span> = <span style="color: #2aa198;">{</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">"onDestroy"</span>: Gtk.main_quit,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">"onButtonPressed"</span>: hello
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #2aa198;">}</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  builder.connect_signals<span style="color: #2aa198;">(</span>handlers<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">&#26041;&#27861;2</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">Handler</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">onDestroy</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, *args<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  Gtk.main_quit<span style="color: #2aa198;">()</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">onButtonPressed</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, button<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">print</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">"Hello World!"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  builder.connect_signals<span style="color: #2aa198;">(</span>Handler<span style="color: #b58900;">()</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgb273c07" class="outline-4">
<h4 id="orgb273c07"><span class="section-number-4">4.1.6</span> <code>GObject</code></h4>
<div class="outline-text-4" id="text-4-1-6">
</div>
<ol class="org-ol">
<li><a id="orgedcad2a"></a>继承出一个新的对象<br />
<div class="outline-text-5" id="text-4-1-6-1">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyObject</span><span style="color: #2aa198;">(</span>GObject.GObject<span style="color: #2aa198;">)</span>:

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  GObject.GObject.__init__<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgeaef58d"></a>信号<br />
<ol class="org-ol">
<li><a id="orgf222187"></a>接收信号<br />
<div class="outline-text-6" id="text-4-1-6-2-1">
<ol class="org-ol">
<li>基本是 <code>handler_id = widget.connect("event", callback, data)</code></li>
<li>断开接收信号，通过处理 id <code>widget.disconnect(handler_id)</code></li>
<li>断开信号, 通过函数 <code>widget.disconnect_by_func(callback)</code></li>
</ol>
</div>
</li>
<li><a id="org42a0126"></a>创建一个新的信号<br />
<div class="outline-text-6" id="text-4-1-6-2-2">
<p>
向 <code>GObject.GObject.__gsignals__</code> 里添加即可
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyObject</span><span style="color: #2aa198;">(</span>GObject.GObject<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">__gsignals__</span> = <span style="color: #2aa198;">{</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'my_signal'</span>: <span style="color: #b58900;">(</span>GObject.SIGNAL_RUN_FIRST, <span style="color: #268bd2; font-weight: bold;">None</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">(</span><span style="color: #657b83; font-weight: bold;">int</span>,<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">}</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">do_my_signal</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, arg<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">"method handler for `my_signal' called with argument"</span>, arg<span style="color: #2aa198;">)</span>

</pre>
</div>
<ol class="org-ol">
<li>第一个属性指定了响应的时机
立即响应 <code>GObject.SIGNAL_RUN_FIRST</code>,
第三阶段响应 <code>GObject.SIGNAL_RUN_LAST</code>,
最后阶段响应 <code>GObject.SIGNAL_RUN_CLEANUP</code></li>
<li>第二个参数是信号的返回值，通常是 <code>None</code></li>
<li>第三个参数是信号的参数</li>
</ol>
</div>
</li>
</ol>
</li>
<li><a id="orge523513"></a>属性<br />
<div class="outline-text-5" id="text-4-1-6-3">
<p>
所有属性都通过 get set 方法来设置
</p>
</div>
<ol class="org-ol">
<li><a id="orgd5e39d8"></a>创建属性<br />
<div class="outline-text-6" id="text-4-1-6-3-1">
<div class="org-src-container">
<pre class="src src-python">
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyObject</span><span style="color: #2aa198;">(</span>GObject.GObject<span style="color: #2aa198;">)</span>:

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">foo</span> = GObject.Property<span style="color: #2aa198;">(</span><span style="color: #657b83; font-weight: bold;">type</span>=<span style="color: #657b83; font-weight: bold;">str</span>, default=<span style="color: #2aa198;">'bar'</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">property_float</span> = GObject.Property<span style="color: #2aa198;">(</span><span style="color: #657b83; font-weight: bold;">type</span>=<span style="color: #657b83; font-weight: bold;">float</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   GObject.GObject.__init__<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgfeefa4c"></a>创建只读属性<br />
<div class="outline-text-6" id="text-4-1-6-3-2">
<div class="org-src-container">
<pre class="src src-python">
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyObject</span><span style="color: #2aa198;">(</span>GObject.GObject<span style="color: #2aa198;">)</span>:

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   GObject.GObject.__init__<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #b58900;">@GObject.Property</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">readonly</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #2aa198;">'This is read-only.'</span>
</pre>
</div>
</div>
</li>
<li><a id="org79ae9d3"></a>python 语法创建属性<br />
<div class="outline-text-6" id="text-4-1-6-3-3">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">AnotherObject</span><span style="color: #2aa198;">(</span>GObject.Object<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">value</span> = 0

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #b58900;">@GObject.Property</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">prop</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'Read only property.'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> 1

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #b58900;">@GObject.Property</span><span style="color: #2aa198;">(</span><span style="color: #657b83; font-weight: bold;">type</span>=<span style="color: #657b83; font-weight: bold;">int</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">propInt</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">'Read-write integer property.'</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #859900; font-weight: bold;">self</span>.value

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #b58900;">@propInt.setter</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">propInt</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, value<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span>.value = value
</pre>
</div>
</div>
</li>
<li><a id="org0d80a08"></a>创建数字带最大值最小值的属性<br />
<div class="outline-text-6" id="text-4-1-6-3-4">
<div class="org-src-container">
<pre class="src src-python">
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">class</span> <span style="color: #b58900;">MyObject</span><span style="color: #2aa198;">(</span>GObject.GObject<span style="color: #2aa198;">)</span>:

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">__gproperties__</span> = <span style="color: #2aa198;">{</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">"int-prop"</span>: <span style="color: #b58900;">(</span><span style="color: #657b83; font-weight: bold;">int</span>, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">type</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #2aa198;">"integer prop"</span>, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">nick</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span><span style="color: #2aa198;">"A property that contains an integer"</span>, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">blurb</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>1, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">min</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>5, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">max</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>2, <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">default</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>GObject.ParamFlags.READWRITE <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">flags</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #b58900;">)</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #2aa198;">}</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">__init__</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   GObject.GObject.__init__<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span>.int_prop = 2

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">do_get_property</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, prop<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> prop.name == <span style="color: #2aa198;">'int-prop'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #859900; font-weight: bold;">self</span>.int_prop
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">raise</span> <span style="color: #b58900;">AttributeError</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">'unknown property %s'</span> % prop.name<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">do_set_property</span><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span>, prop, value<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">if</span> prop.name == <span style="color: #2aa198;">'int-prop'</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">self</span>.int_prop = value
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">else</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">raise</span> <span style="color: #b58900;">AttributeError</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">'unknown property %s'</span> % prop.name<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd940159"></a>监视属性：属性发生变化就发出信号<br />
<div class="outline-text-6" id="text-4-1-6-3-5">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">my_object</span> = MyObject<span style="color: #2aa198;">()</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">on_notify_foo</span><span style="color: #2aa198;">(</span>obj, gparamstring<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">"foo changed"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   my_object.connect<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"notify::foo"</span>, on_notify_foo<span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   my_object.set_property<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"foo"</span>, <span style="color: #2aa198;">"bar"</span><span style="color: #2aa198;">)</span> <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">on_notify_foo will be called</span>
</pre>
</div>
<p>
信号和函数的写法转换规则
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2;">my_object</span> = MyObject<span style="color: #2aa198;">()</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">def</span> <span style="color: #268bd2;">on_notify_foo_bar_baz</span><span style="color: #2aa198;">(</span>obj, gparamstring<span style="color: #2aa198;">)</span>:
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #859900; font-weight: bold;">print</span><span style="color: #2aa198;">(</span><span style="color: #2aa198;">"foo_bar_baz changed"</span><span style="color: #2aa198;">)</span>

<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   my_object.connect<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"notify::foo-bar-baz"</span>, on_notify_foo_bar_baz<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org8dc799a" class="outline-4">
<h4 id="org8dc799a"><span class="section-number-4">4.1.7</span> <code>Gtk.Application</code></h4>
<div class="outline-text-4" id="text-4-1-7">
</div>
<ol class="org-ol">
<li><a id="orgff23f88"></a><code>Gio.Action</code><br /></li>
<li><a id="org4c69515"></a><code>Gio.Menu</code><br /></li>
<li><a id="org16a27b5"></a>命令行<br /></li>
</ol>
</div>
</div>
<div id="outline-container-orgc1c3aba" class="outline-3">
<h3 id="orgc1c3aba"><span class="section-number-3">4.2</span> 各类组件的使用</h3>
</div>

<div id="outline-container-org5df4b89" class="outline-3">
<h3 id="org5df4b89"><span class="section-number-3">4.3</span> 实现各种功能的方法</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-orgdf7bd00" class="outline-4">
<h4 id="orgdf7bd00"><span class="section-number-4">4.3.1</span> 剪贴板</h4>
</div>
<div id="outline-container-org4332abb" class="outline-4">
<h4 id="org4332abb"><span class="section-number-4">4.3.2</span> 拖拽</h4>
</div>
<div id="outline-container-orgc36c730" class="outline-4">
<h4 id="orgc36c730"><span class="section-number-4">4.3.3</span> 在组件上使用外部 css 样式</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
使用 css 的几个步骤
</p>
</div>
<ol class="org-ol">
<li><a id="orgdf4e91c"></a>获取该组件的 <code>StyleContext</code><br />
<div class="outline-text-5" id="text-4-3-3-1">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.style_context = Gtk.Widget.get_style_context<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">self</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orga54fd18"></a>给该组件加上 css 类<br />
<div class="outline-text-5" id="text-4-3-3-2">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.style_context.add_class<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"css_class"</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org9c79326"></a>载入 css 文件<br />
<div class="outline-text-5" id="text-4-3-3-3">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #268bd2;">provider</span> = Gtk.CssProvider.new<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  provider.load_from_path<span style="color: #2aa198;">(</span><span style="color: #2aa198;">'a.css'</span><span style="color: #2aa198;">)</span>
</pre>
</div>
<p>
文件内容为：
</p>
<div class="org-src-container">
<pre class="src src-css">       <span style="color: #268bd2;">.css_class </span><span style="color: #2aa198;">{</span>
           <span style="color: #859900; font-weight: bold;">border</span>: 5px solid;
           <span style="color: #859900; font-weight: bold;">border-color</span>: <span style="color: #ffffff; background-color: #808080;">#808080</span>;
       <span style="color: #2aa198;">}</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd25afb3"></a>给该组件应用上这个 css<br />
<div class="outline-text-5" id="text-4-3-3-4">
<p>
第二个数字代表应用的次序，数字越大，越靠后，即最后应用最大数字的 css
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>  <span style="color: #859900; font-weight: bold;">self</span>.style_context.add_provider<span style="color: #2aa198;">(</span>provider, 999999999<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org4263f48" class="outline-4">
<h4 id="org4263f48"><span class="section-number-4">4.3.4</span> 如何给本来不能有事件的组件连接上事件：让图片可点击</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
这类组件没有 <code>Gtk.Window</code> 因此需要把它们包裹在 <code>Gtk.EventBox</code> 里，再给 <code>Gtk.EventBox</code> 加事件即可
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">node_show</span> = Gtk.EventBox<span style="color: #2aa198;">()</span>
<span style="background-color: #eee8d5;"> </span> <span style="color: #268bd2;">node_show_image</span> = Gtk.Image<span style="color: #2aa198;">(</span>stock=<span style="color: #2aa198;">"gtk-zoom-100"</span><span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span> node_show.add<span style="color: #2aa198;">(</span>node_show_image<span style="color: #2aa198;">)</span>
<span style="background-color: #eee8d5;"> </span> node_show.connect<span style="color: #2aa198;">(</span><span style="color: #2aa198;">"button-press-event"</span>, <span style="color: #859900; font-weight: bold;">lambda</span> w, a, b: <span style="color: #859900; font-weight: bold;">print</span><span style="color: #b58900;">(</span><span style="color: #2aa198;">"asdasdasd"</span><span style="color: #b58900;">)</span>,
<span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="background-color: #eee8d5;"> </span>   <span style="color: #268bd2; font-weight: bold;">None</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbe0c779" class="outline-3">
<h3 id="orgbe0c779"><span class="section-number-3">4.4</span> 坑</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-org724b531" class="outline-4">
<h4 id="org724b531"><span class="section-number-4">4.4.1</span> glade 中的模板目前不可用</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
这是一个5年的 Bug ，即 GObject 抽象类方法不可用
<code>gtk_widget_init_template</code> 方法目前不可用
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: chimez</p>
<p class="date">Created: 2020-09-27 Sun 17:24</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
